package tech.saymagic.galaxy.lib.core.util;import java.io.Closeable;import java.io.File;import java.io.FileInputStream;import java.io.IOException;/** * Created by caoyanming on 2017/5/19. */public class IOUtil{    public static final void closeSilently(Closeable... closeables){        if (closeables != null) {            for (Closeable closeable : closeables) {                try {                    closeable.close();                } catch (IOException e) {                    e.printStackTrace();                }            }        }    }    public static String readFileAsText(File file, long length, String charset) throws IOException {        if (length == -1) {            length = file.length();        }        length = Math.min(length, file.length());        FileInputStream in = null;        try {            in = new FileInputStream(file);            byte[] buffer = new byte[(int) length];            int currentPos = 0;            int read = 0;            while ((read = in.read(buffer, currentPos,                    (int) (length - currentPos))) > 0) {                currentPos += read;            }            if (null == charset) {                charset = "utf-8";            }            return new String(buffer, charset);        } catch (IOException e) {            throw e;        } finally {            closeSilently(in);        }    }}